{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst API_KEY = '47418374-a80c993bb5abb784419bb47e5';\n\nconst form = document.querySelector('.form');\nconst input = document.querySelector('.input');\nconst button = document.querySelector('.button');\nconst gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: event.target.elements.search.value,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  console.log(event.target.elements.search.value);\n  fetch(`https://pixabay.com/api/?key=${API_KEY}&q=${params}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      gallery.innerHTML = '';\n      console.log(data);\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          backgroundColor: '#ef4040',\n          messageColor: '#ffffff',\n          messageSize: '16px',\n          titleColor: '#ffffff',\n        });\n      }\n      console.log(markup(data.hits));\n      gallery.insertAdjacentHTML('beforeend', markup(data.hits));\n    })\n    .catch(error => console.log(error));\n\n  function markup(arr) {\n    return arr\n      .map(\n        ({\n          webformatURL,\n          tags,\n          largeImageURL,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) =>\n          `<li>\n             <a>\n               <img src=\"${webformatURL}\" alt=\"${tags}\" data-source=\"${largeImageURL}\" width=\"300\">\n             </a>\n             <ul>\n             <li>\n               <h2>Likes</h2>\n               <p>${likes}</p>\n             </li>\n             <li>\n               <h2>Views</h2>\n               <p>${views}</p>\n             </li>\n             <li>\n               <h2>Comments</h2>\n               <p>${comments}</p>\n             </li>\n             <li>\n               <h2>Downloads</h2>\n               <p>${downloads}</p>\n             </li>\n             </ul>\n       </li>`\n      )\n      .join('');\n  }\n  form.reset();\n});\n\n// gallery.addEventListener('click', clickFoo);\n\n// function clickFoo(event) {\n//   if (event.target.classList.contains('gallery')) {\n//     return;\n//   }\n//   event.preventDefault();\n//   const largeImageURL = event.target.dataset.source;\n//   console.log(event.target.dataset.source);\n//   basicLightbox\n//     .create(`<img src=\"${largeImageURL}\" width=\"1112\" height=\"640\">`)\n//     .show();\n// }\n\ngallery.addEventListener('click', event => {\n  event.preventDefault();\n\n  const target = event.target;\n\n  if (target.nodeName !== 'IMG') {\n    return;\n  }\n\n  const largeImageURL = target.dataset.source;\n\n  if (!largeImageURL) {\n    console.log('Велике зображення не знайдено.');\n    return;\n  }\n\n  // Використовуємо basicLightbox для відкриття великого зображення\n  const instance = basicLightbox.create(`\n    <img src=\"${largeImageURL}\" alt=\"${target.alt}\" width=\"800\">\n  `);\n\n  instance.show();\n});\n"],"names":["API_KEY","form","gallery","event","params","response","data","iziToast","markup","error","arr","webformatURL","tags","largeImageURL","likes","views","comments","downloads","target"],"mappings":"svBAUA,MAAMA,EAAU,qCAEVC,EAAO,SAAS,cAAc,OAAO,EAC7B,SAAS,cAAc,QAAQ,EAC9B,SAAS,cAAc,SAAS,EAC/C,MAAMC,EAAU,SAAS,cAAc,UAAU,EAEjDD,EAAK,iBAAiB,SAAUE,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKJ,EACL,EAAGG,EAAM,OAAO,SAAS,OAAO,MAChC,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAED,QAAQ,IAAIA,EAAM,OAAO,SAAS,OAAO,KAAK,EAC9C,MAAM,gCAAgCH,CAAO,MAAMI,CAAM,EAAE,EACxD,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZJ,EAAQ,UAAY,GACpB,QAAQ,IAAII,CAAI,EACZA,EAAK,KAAK,SAAW,GACvBC,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,WACV,gBAAiB,UACjB,aAAc,UACd,YAAa,OACb,WAAY,SACtB,CAAS,EAEH,QAAQ,IAAIC,EAAOF,EAAK,IAAI,CAAC,EAC7BJ,EAAQ,mBAAmB,YAAaM,EAAOF,EAAK,IAAI,CAAC,CAC/D,CAAK,EACA,MAAMG,GAAS,QAAQ,IAAIA,CAAK,CAAC,EAEpC,SAASD,EAAOE,EAAK,CACnB,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,KAAAC,EACA,cAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA;AAAA,2BAEiBN,CAAY,UAAUC,CAAI,kBAAkBC,CAAa;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKhEC,CAAK;AAAA;AAAA;AAAA;AAAA,oBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,oBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,oBAIRC,CAAS;AAAA;AAAA;AAAA,aAItB,EACA,KAAK,EAAE,CACX,CACDhB,EAAK,MAAK,CACZ,CAAC,EAgBDC,EAAQ,iBAAiB,QAASC,GAAS,CACzCA,EAAM,eAAc,EAEpB,MAAMe,EAASf,EAAM,OAErB,GAAIe,EAAO,WAAa,MACtB,OAGF,MAAML,EAAgBK,EAAO,QAAQ,OAErC,GAAI,CAACL,EAAe,CAClB,QAAQ,IAAI,gCAAgC,EAC5C,MACD,CAGgB,cAAc,OAAO;AAAA,gBACxBA,CAAa,UAAUK,EAAO,GAAG;AAAA,GAC9C,EAEQ,KAAI,CACf,CAAC"}